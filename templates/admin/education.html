
{% extends "base.html" %}
{% block body %}
<div class="container" style="padding:2rem 1rem;">
  <h1>Admin · Education</h1>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}<ul>{% for c,m in messages %}<li style="color:{{ 'green' if c=='ok' else 'crimson' }}">{{ m }}</li>{% endfor %}</ul>{% endif %}
  {% endwith %}
  <form method="post" style="background:#fff; padding:1rem; border-radius:8px; box-shadow: var(--shadow);">
    <div class="form-group"><label>Degree</label><input name="degree" class="form-control" required></div>
    <div class="form-group"><label>Institution</label><input name="institution" class="form-control" required></div>
    <div class="form-group"><label>Year</label><input name="year" class="form-control" required></div>
    <div class="form-group"><label>CGPA (optional)</label><input name="cgpa" class="form-control"></div>
    <button class="btn" type="submit">Add</button>
  </form>

  <h2 style="margin:1.5rem 0 0.5rem;">Existing</h2>
  <table style="width:100%; border-collapse: collapse; background:#fff; box-shadow: var(--shadow);">
    <thead>
      <tr style="text-align:left;">
        <th style="padding:8px;">Degree</th>
        <th style="padding:8px;">Institution</th>
        <th style="padding:8px;">Year</th>
        <th style="padding:8px;">CGPA</th>
        <th style="padding:8px;">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for e in education %}
      <tr style="border-top:1px solid #e5e7eb;">
        <td style="padding:8px;">{{ e.degree }}</td>
        <td style="padding:8px;">{{ e.institution }}</td>
        <td style="padding:8px;">{{ e.year }}</td>
        <td style="padding:8px;">{{ e.cgpa or '' }}</td>
        <td style="padding:8px;">
          <form method="post" action="{{ url_for('admin_education_delete', row_id=e.id) }}" onsubmit="return confirm('Delete this row?')">
            <button class="btn btn-outline" type="submit">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <p style="margin-top:1rem;"><a class="btn btn-outline" href="{{ url_for('admin_dashboard') }}">← Back</a></p>
</div>
{% endblock %}
